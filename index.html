<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Random Rewards</title><meta name="description" content="Small PWA to pick your rewards randomly."><meta property="og:image" content="https://https://random-rewards.dotv.ee/android-chrome-192x192.png"><meta property="og:title" content="Random Rewards"><meta property="og:description" content="Small PWA to pick your rewards randomly."><meta property="og:type" content="website"><meta property="og:url" content="https://random-rewards.dotv.ee"><meta property="og:locale" content="en_US"><link rel="manifest" href="manifest.json"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"><meta name="viewport" content="width=device-width,initial-scale=1"><style>a,abbr,acronym,address,article,aside,b,big,blockquote,body,caption,cite,code,dd,del,dfn,div,dl,dt,em,fieldset,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,nav,object,ol,p,pre,q,samp,section,small,span,strike,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,tt,ul,var{margin:0;padding:0;border:0;outline:0;font-size:100%;font:inherit;vertical-align:baseline}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}a:hover,ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}a{transition:.2s ease-in-out;color:inherit;text-decoration:none}ul{margin:0}b,strong{font-weight:700}i{font-style:italic}button,button:hover,input:focus,input[type=checkcbox]:focus,input[type=submit]:hover,select:focus,textarea:focus{background:0 0;border:0;padding:0;outline:0;line-height:normal;overflow:visible}html{position:relative;width:100%;min-width:280px;height:100%;min-height:550px;overflow:hidden}body{position:relative;background-color:#fff;color:#30576c;font-family:Arial,Helvetica,sans-serif;text-align:center;font-size:12pt;line-height:130%;height:100%;width:100%;overflow:hidden}h1{font-size:22pt}h2{font-size:15pt}p{font-size:12pt;color:#558097;line-height:130%}svg{width:inherit;height:inherit}.hidden-templates{display:none}#footer-version,#menu .menu-entry,.click-button{cursor:pointer;position:relative;display:inline-block;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.click-button::after{content:"";width:100%;height:100%;position:absolute;top:0;left:0;border-radius:12px;display:inline-block;transform:scaleX(1.2) scaleY(1.2);opacity:0;transition:opacity .3s,transform .3s;background:#fff;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.click-button:active::after{transform:scaleX(0) scaleY(0);opacity:.8;transition:opacity,transform}.click-button:disabled{color:#888;background-color:#eee;filter:grayscale(100%)}.click-button:disabled::after{display:none}#content{position:relative;display:flex;width:100%;height:100%;background-color:#fff}#account-configuration-frame,#reward-configuration-frame,#reward-judgement-overlay,#reward-wheel-frame,#rewards-list-frame,#welcome-frame{display:none;position:absolute;top:0;left:0;width:100%;height:100%}.configure-reward #reward-configuration-frame,.rewards-list #rewards-list-frame,.welcome #welcome-frame{display:block}.reward-inactive #reward-wheel-frame{display:block;opacity:.6}.configure-account #account-configuration-frame,.reward-active #reward-wheel-frame,.reward-judgement-overlay #reward-judgement-overlay,.reward-unjudged #reward-wheel-frame{display:block}#welcomeframe{position:relative;height:100%;padding:0 30px;box-sizing:border-box;margin-right:auto;max-width:300px;text-align:center}#welcomeframe h1{font-size:42px;padding-top:60px;margin-bottom:30px}#welcomeframe #welcoming-text-container{margin-bottom:30px}#welcomeframe #button-container{position:absolute;left:0;width:100%;bottom:70px}#welcomeframe #button-container .click-button{display:block;width:220px;margin:25px auto auto;box-sizing:border-box;background-color:#fbdcdb;padding:15px;border-radius:3px;box-shadow:0 0 5px 0 rgba(0,0,0,.2)}#welcomeframe #welcome-decoration-top{position:absolute;top:-50px;left:0;height:100px;width:100%;background-color:#558097;transform-origin:bottom left;transform:rotate(-23deg)}#welcomeframe #welcome-decoration-bottom{position:absolute;bottom:-820px;left:-40px;height:1000px;width:5000px;background-color:#558097;transform-origin:top left;transform:rotate(-23deg)}#footer{background-color:#000;color:#fbdcdb;box-shadow:0 0 7px 0 rgba(0,0,0,.4);display:flex;justify-content:space-between;align-items:center;width:100%;height:100%;box-sizing:border-box;padding:0 15px;position:relative;z-index:99}#footer-links .link-icon{height:30px;width:30px}#footer-version{color:#fbdcdb;opacity:.6;pointer-events:none;padding:8px 15px;display:flex;align-items:center}#footer-version #to-update-icon,#footer-version #to-version-icon,#footer-version #up-to-date-icon{height:21px;width:21px}#footer-version #new-version,#footer-version #to-update-icon{display:none}#footer-version #up-to-date-icon{display:block}#footer-version #to-version-icon{width:15px;height:15px;margin:0 5px;display:none}#footer-version #current-version,#footer-version #new-version{line-height:150%;font-size:20px;margin-left:7px;position:relative;top:1px}#footer-version.to-update{color:#fff;opacity:1;pointer-events:all;background-color:rgba(255,142,26,.9);border-radius:3px}#footer-version.to-update #to-update-icon{display:block}#footer-version.to-update #up-to-date-icon{display:none}#footer-version.to-update #to-version-icon{display:block}#footer-version.to-update #new-version{margin-left:0;display:block}#header{background-color:#000;color:#fbdcdb;box-shadow:0 0 7px 0 rgba(0,0,0,.4);display:flex;justify-content:space-between;align-items:center;width:100%;height:100%;box-sizing:border-box;padding:0 15px;position:relative;z-index:99}#header #app-logo{height:45px;width:45px}#header #menu-button{height:30px;width:30px}#header #menu-close-button{height:30px;width:30px;display:none}.menu-on #header #menu-button{display:none}.menu-on #header #menu-close-button{display:block}#menu{width:260px;height:100%;overflow-y:auto;box-sizing:border-box;padding:65px 15px;position:absolute;top:0;right:0;background-color:#fbdcdb;transition:transform .3s;transform:translateX(102%);box-shadow:0 0 7px 0 rgba(0,0,0,.4);z-index:98}#menu .menu-group{padding:10px 0}#menu .menu-entry{padding:8px 15px;display:flex;align-items:center}#menu .menu-entry:hover{background-color:rgba(0,0,0,.2)}#menu .menu-icon{width:25px;height:25px}#menu .menu-label{line-height:150%;font-size:20px;margin-left:15px;position:relative;top:1px}#menu-all-rewards{border-top:1px solid rgba(0,0,0,.1);border-bottom:1px solid rgba(0,0,0,.1)}.no-rewards #menu-all-rewards{border-bottom:none;padding:0}.no-rewards #menu-logout{pointer-events:none;opacity:.4}.menu-on #menu{transform:translateX(0)}#rewardconfigurationframe{position:relative;height:100%;width:100%;overflow:hidden}.editframe-header{position:absolute;width:100%;height:50px;box-shadow:0 0 5px 0 rgba(0,0,0,.2);background-color:rgba(255,255,255,.6);z-index:5}.editframe-header .editframe-cancel-button{position:absolute;top:50%;left:0;transform:translateY(-50%);color:#fff;background-color:#558097;width:120px;font-size:16px;border-radius:0 3px 3px 0;padding:7px}.editframe-header .edit-frame-title{position:absolute;top:50%;right:15px;transform:translateY(-50%);color:#30576c;font-size:16px}.editframe-container{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;padding:80px 30px;box-sizing:border-box;z-index:1}.editframe-edit-item{max-width:420px;position:relative;margin-bottom:30px;text-align:left}.editframe-edit-item label{display:block;color:#30576c;font-size:20px;margin-bottom:12px;cursor:pointer}.editframe-edit-item .editframe-edit-content{font-family:inherit;display:block;width:100%;border:none;color:#558097;font-size:16px;padding:0}.editframe-edit-item .editframe-edit-icon{height:25px;width:25px;position:absolute;top:0;right:0}#reward-options-total-weight{color:#30576c;margin-bottom:12px}.reward-option-outer-container{margin-bottom:12px}.reward-option{position:relative;display:block;width:100%;max-width:420px;padding:15px;box-sizing:border-box;border-radius:3px;background-color:#fff;box-shadow:0 0 5px 0 rgba(0,0,0,.2);cursor:pointer;z-index:2}.reward-option .editframe-edit-icon{height:20px;width:20px;top:15px;right:15px}.reward-option-delete-button{position:relative;top:-3px;display:block;width:80px;padding-top:10px;padding-bottom:7px;box-sizing:border-box;background-color:#955;color:#fff;border-radius:0 0 3px 3px;text-align:center;margin-right:auto;z-index:1}.reward-option-name{color:#558097;margin-bottom:12px}.reward-option-weight-line{display:flex;justify-content:space-between}.reward-option-weight{color:#558097}.reward-option-percent{color:#30576c}#add-reward-option-button{display:block;width:100%;max-width:420px;box-sizing:border-box;color:#30576c;background-color:#fbdcdb;padding:15px;border-radius:3px;margin-top:25px;box-shadow:0 0 5px 0 rgba(0,0,0,.2);text-align:center}.editframe-footer{position:absolute;bottom:0;left:0;width:100%;height:50px;box-shadow:0 0 5px 0 rgba(0,0,0,.2);background-color:rgba(255,255,255,.6);z-index:5}.editframe-footer .editframe-save-button{position:absolute;top:50%;right:0;transform:translateY(-50%);color:#30576c;background-color:#fbdcdb;width:120px;font-size:16px;border-radius:3px 0 0 3px;padding:7px;box-shadow:0 0 5px 0 rgba(0,0,0,.2)}.editframe-footer .editframe-delete-button{display:none;position:absolute;top:50%;left:0;transform:translateY(-50%);color:#fff;background-color:#955;width:120px;font-size:16px;border-radius:0 3px 3px 0;padding:7px;box-shadow:0 0 5px 0 rgba(0,0,0,.2)}.editframe-footer .editframe-delete-button.shown{display:block}#rewardwheelframe{width:100%;height:100%;background-color:rgba(255,0,0,.8)}#rewardslistframe{position:relative;height:100%;width:100%;overflow:hidden}#rewardslist-container{width:100%;height:100%;overflow-y:auto;overflow-x:hidden;padding:60px 30px;box-sizing:border-box}#rewardslist-container .reward-button{display:block;width:100%;max-width:420px;box-sizing:border-box;color:#30576c;background-color:#fbdcdb;padding:15px;border-radius:3px;margin-bottom:25px;box-shadow:0 0 5px 0 rgba(0,0,0,.2)}#svgicon-symbols{display:none}#svgicon-definitions{position:absolute;height:0;width:0;bottom:0;right:0}.usermodal{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(48,87,108,.7);z-index:-1;opacity:0;transition:opacity .3s}.usermodal .click-catcher{position:absolute;top:0;left:0;width:100%;height:100%}.usermodal.shown{z-index:999;opacity:1}.modal-container{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-sizing:border-box;background-color:#fff;width:90%;border-radius:3px;overflow:hidden}.modal-container .modal-header{display:flex;justify-content:space-between;align-items:center;width:100%;border:none;background-color:rgba(48,87,108,.05);box-shadow:0 0 5px 1px rgba(0,0,0,.2);height:55px}.modal-container .modal-header-title{padding-left:20px;padding-top:5px;font-size:16pt;font-weight:700}.modal-container .modal-close-button{height:30px;width:30px;padding-right:10px}.modal-container .modal-content{padding:20px 20px 30px}.modal-container .modal-actions{display:flex;align-items:center;gap:4px;width:100%;height:55px;padding:4px;box-sizing:border-box;box-shadow:0 0 5px 1px rgba(0,0,0,.2);background-color:rgba(48,87,108,.05)}.modal-container .modal-actions .click-button{flex-grow:1;border-radius:2px;background-color:#fbdcdb;padding:10px 20px;color:#fff;width:100%;box-sizing:border-box;text-align:center;font-size:15pt}.modal-container .modal-actions .click-button:hover{opacity:.8}#deletemodal .modal-actions .modal-accept-button{background-color:#955}#deletemodal .modal-actions .modal-cancel-button{background-color:transparent;color:#30576c;font-size:12pt}#optiondeletemodal .modal-actions .modal-accept-button{background-color:#955}#optiondeletemodal .modal-actions .modal-cancel-button{background-color:transparent;color:#30576c;font-size:12pt}#logoutmodal .modal-actions .modal-accept-button{background-color:#955}#logoutmodal .modal-actions .modal-cancel-button{background-color:transparent;color:#30576c;font-size:12pt}#optioneditmodal .modal-content{text-align:left}#optioneditmodal .modal-content label{position:relative;display:block;color:#30576c;font-size:20px;margin-bottom:12px;cursor:pointer}#optioneditmodal .modal-content input{font-family:inherit;display:block;width:100%;border:none;color:#558097;font-size:16px;padding:0}#optioneditmodal .modal-content .edit-icon{height:25px;width:25px;position:absolute;top:0;right:0}#optioneditmodal .modal-content>*{margin-bottom:12px}#optioneditmodal .modal-actions .modal-accept-button{background-color:#fbdcdb;color:#30576c}#optioneditmodal .modal-actions .modal-cancel-button{background-color:transparent;color:#30576c;font-size:12pt}#app-background{position:absolute;width:100%;height:100%;z-index:-1}#real-body{width:100%;height:100%;display:grid;align-items:stretch;grid-template-columns:1fr;grid-template-rows:60px auto 60px}#real-body.large-content{grid-template-rows:auto}#real-body.large-content footer,#real-body.large-content header{display:none}</style></head><body><svg id="svgicon-definitions"><defs><filter id="svg-dropshadow-filter" height="130%" width="130%"><fegaussianblur in="SourceGraphic" stddeviation="3" result="blurOut"></fegaussianblur><feColorMatrix in="blurOut" type="saturate" values="0.25" result="shadowOut"></feColorMatrix><feblend in="SourceGraphic" in2="shadowOut" mode="normal"></feblend></filter></defs></svg> <svg id="svgicon-symbols"><symbol id="svg-app-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 132.29 132.29"><path fill="currentColor" d="M68.8 71.543l49.413-32.913.631 55.162-49.413 32.913z" fill-rule="evenodd"></path><path fill="currentColor" d="M63.287 5.351L13.825 38.468l53.432 30.657 49.463-33.117zm-5.145 13.394a21.698 21.698 0 013.878.308c2.067.342 4.052 1.059 5.956 2.15 1.249.717 2.212 1.464 2.892 2.242.679.778 1.168 1.572 1.467 2.382.317.798.493 1.617.526 2.458.052.828.065 1.669.042 2.522-.025.83-.02 1.666.013 2.506.051.828.226 1.648.525 2.458.298.787.786 1.569 1.466 2.346.66.767 1.604 1.503 2.833 2.208l-5.157 4.229c-1.764-1.013-3.165-2.01-4.2-2.992-1.037-.983-1.822-1.936-2.358-2.86-.537-.946-.88-1.862-1.031-2.747a13.373 13.373 0 01-.191-2.608c.023-.853.059-1.666.106-2.437a7.909 7.909 0 00-.11-2.22 5.125 5.125 0 00-.812-2.006c-.422-.63-1.099-1.212-2.03-1.747a9.617 9.617 0 00-3.227-1.166 11.006 11.006 0 00-3.358-.045c-1.1.145-2.19.444-3.27.896-1.083.429-2.11.97-3.083 1.62a8.929 8.929 0 00-1.847 1.644 7.765 7.765 0 00-1.224 2.002 7.764 7.764 0 00-.52 2.234c-.048.771.039 1.54.258 2.305L38.754 35c-.41-1.353-.507-2.618-.294-3.797a9.442 9.442 0 011.229-3.299 13.01 13.01 0 012.266-2.738 23.743 23.743 0 012.816-2.218c1.56-1.044 3.292-1.921 5.198-2.63a23.774 23.774 0 015.876-1.42 20.755 20.755 0 012.296-.154zM84.457 44.59c.688-.017 1.36.05 2.02.2.677.138 1.284.36 1.82.668.535.307.95.67 1.243 1.09.292.395.451.806.478 1.232.045.414-.044.83-.267 1.25-.204.409-.553.778-1.049 1.11-.514.344-1.1.601-1.758.77s-1.332.264-2.019.28-1.37-.044-2.047-.182c-.679-.162-1.286-.396-1.822-.703s-.949-.659-1.241-1.055c-.274-.408-.424-.824-.45-1.25a2.19 2.19 0 01.296-1.234c.222-.42.58-.796 1.076-1.128s1.073-.583 1.731-.752a7.958 7.958 0 011.99-.296z"></path><path fill="currentColor" d="M65.067 71.73l-51.62-29.296.872 55.209 51.62 29.295z" fill-rule="evenodd"></path></symbol><symbol id="svg-home-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M16,8.41L11.5,3.91L4.41,11H6V12L6,19H9V13H14V19H17V11H18.59L17,9.41V6H16V8.41M2,12L11.5,2.5L15,6V5H18V9L21,12H18V20H13V14H10V20H5V12H2Z"></path></symbol><symbol id="svg-cross-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"></path></symbol><symbol id="svg-menu-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"></path></symbol><symbol id="svg-plus-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M5,13V12H11V6H12V12H18V13H12V19H11V13H5Z"></path></symbol><symbol id="svg-wrench-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M22.7,19L13.6,9.9C14.5,7.6 14,4.9 12.1,3C10.1,1 7.1,0.6 4.7,1.7L9,6L6,9L1.6,4.7C0.4,7.1 0.9,10.1 2.9,12.1C4.8,14 7.5,14.5 9.8,13.6L18.9,22.7C19.3,23.1 19.9,23.1 20.3,22.7L22.6,20.4C23.1,20 23.1,19.3 22.7,19Z"></path></symbol><symbol id="svg-user-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M11.5,14C15.64,14 19,15.57 19,17.5V20H4V17.5C4,15.57 7.36,14 11.5,14M18,17.5C18,16.12 15.09,15 11.5,15C7.91,15 5,16.12 5,17.5V19H18V17.5M11.5,5C13.43,5 15,6.57 15,8.5C15,10.43 13.43,12 11.5,12C9.57,12 8,10.43 8,8.5C8,6.57 9.57,5 11.5,5M11.5,6C10.12,6 9,7.12 9,8.5C9,9.88 10.12,11 11.5,11C12.88,11 14,9.88 14,8.5C14,7.12 12.88,6 11.5,6Z"></path></symbol><symbol id="svg-info-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M11.5,3C16.75,3 21,7.25 21,12.5C21,17.75 16.75,22 11.5,22C6.25,22 2,17.75 2,12.5C2,7.25 6.25,3 11.5,3M11.5,4C6.81,4 3,7.81 3,12.5C3,17.19 6.81,21 11.5,21C16.19,21 20,17.19 20,12.5C20,7.81 16.19,4 11.5,4M11,8V10H12V8H11M11,12V17H12V12H11Z"></path></symbol><symbol id="svg-logout-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M11,13V4H12V13H11M19,12.5C19,16.64 15.64,20 11.5,20C7.36,20 4,16.64 4,12.5C4,9.79 5.44,7.41 7.6,6.1L8.33,6.83C6.34,7.94 5,10.06 5,12.5C5,16.09 7.91,19 11.5,19C15.09,19 18,16.09 18,12.5C18,10.06 16.66,7.94 14.67,6.83L15.4,6.1C17.56,7.41 19,9.79 19,12.5Z"></path></symbol><symbol id="svg-check-mark-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z"></path></symbol><symbol id="svg-update-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M17,1H7A2,2 0 0,0 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3A2,2 0 0,0 17,1M17,19H7V5H17V19M16,13H13V8H11V13H8L12,17L16,13Z"></path></symbol><symbol id="svg-edit-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"></path></symbol><symbol id="svg-arrow-right-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"></path></symbol><symbol id="svg-chevron-left-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z"></path></symbol><symbol id="svg-chevron-right-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z"></path></symbol><symbol id="svg-github-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"></path></symbol><symbol id="svg-telegram-icon" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24"><path fill="currentColor" d="M9.78,18.65L10.06,14.42L17.74,7.5C18.08,7.19 17.67,7.04 17.22,7.31L7.74,13.3L3.64,12C2.76,11.75 2.75,11.14 3.84,10.7L19.81,4.54C20.54,4.21 21.24,4.72 20.96,5.84L18.24,18.65C18.05,19.56 17.5,19.78 16.74,19.36L12.6,16.3L10.61,18.23C10.38,18.46 10.19,18.65 9.78,18.65Z"></path></symbol></svg><div class="hidden-templates"><div id="deletemodal-message-template">All data from <b>{{{label}}}</b> will be deleted from this device.<br><br>This cannot be undone.</div></div><div class="usermodal" id="deletemodal"><div class="click-catcher"></div><div class="modal-container"><div class="modal-header"><h2 class="modal-header-title">Warning!</h2><div class="modal-close-button click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div class="modal-content"></div><div class="modal-actions"><div class="modal-accept-button click-button">Delete</div><div class="modal-cancel-button click-button">Cancel</div></div></div></div><div class="usermodal" id="optiondeletemodal"><div class="click-catcher"></div><div class="modal-container"><div class="modal-header"><h2 class="modal-header-title">Delete Option</h2><div class="modal-close-button click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div class="modal-content">Are you sure?</div><div class="modal-actions"><div class="modal-accept-button click-button">Yes</div><div class="modal-cancel-button click-button">Cancel</div></div></div></div><div class="usermodal" id="logoutmodal"><div class="click-catcher"></div><div class="modal-container"><div class="modal-header"><h2 class="modal-header-title">Warning!</h2><div class="modal-close-button click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div class="modal-content">By logging off all data from <b>all your rewards</b> will be deleted from this device.<br><br>This cannot be undone.</div><div class="modal-actions"><div class="modal-accept-button click-button">Delete</div><div class="modal-cancel-button click-button">Cancel</div></div></div></div><div class="usermodal" id="judgemodal"><div class="click-catcher"></div><div class="modal-container"><div class="modal-header"><h2 class="modal-header-title">My Judgement</h2><div class="modal-close-button click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div class="modal-content">Hereby I judge myself in absolute honesty.<br>I admit that I failed if I failed.<br>I continue as success only if I actually succeeded.</div><div class="modal-actions"><div class="modal-accept-button click-button">I Failed :(</div><div class="modal-cancel-button click-button">Success!</div></div></div></div><div class="usermodal" id="optioneditmodal"><div class="click-catcher"></div><div class="modal-container"><div class="modal-header"><h2 class="modal-header-title"></h2><div class="modal-close-button click-button"><svg><use href="#svg-cross-icon"></use></svg></div></div><div class="modal-content"><div id="optioneditmodal-name"><label for="optioneditmodal-name-input">Name<div class="edit-icon"><svg><use href="#svg-edit-icon"></use></svg></div></label> <input id="optioneditmodal-name-input" name="inputrewardoptioneditmodal-name" placeholder="Type name..."></div><div id="optioneditmodal-weight"><label for="optioneditmodal-weight-input">Weight<div class="edit-icon"><svg><use href="#svg-edit-icon"></use></svg></div></label> <input id="optioneditmodal-weight-input" name="#optioneditmodal-weight" placeholder="Type name..." type="number"></div></div><div class="modal-actions"><button class="modal-accept-button click-button">Okay</button> <button class="modal-cancel-button click-button">Cancel</button></div></div></div><div id="app-background"></div><div id="real-body"><header><div id="header"><div id="app-logo"><svg><use href="#svg-app-icon"></use></svg></div><div class="click-button" id="menu-close-button"><svg><use href="#svg-cross-icon"></use></svg></div><div class="click-button" id="menu-button"><svg><use href="#svg-menu-icon"></use></svg></div></div></header><main><div class="hidden-templates"><div id="menu-entry-template"><a class="menu-entry" reward-index="{{{index}}}"><div class="menu-icon"><svg><use href="#svg-wrench-icon"></use></svg></div><div class="menu-label">{{{rewardLabel}}}</div></a></div></div><nav id="menu"><div class="menu-group"><a class="menu-entry" id="menu-home"><div class="menu-icon"><svg><use href="#svg-home-icon"></use></svg></div><div class="menu-label">Home</div></a><a class="menu-entry" id="menu-account"><div class="menu-icon"><svg><use href="#svg-user-icon"></use></svg></div><div class="menu-label">Account</div></a></div><div class="menu-group"><a class="menu-entry" id="menu-add-reward"><div class="menu-icon"><svg><use href="#svg-plus-icon"></use></svg></div><div class="menu-label">Add Reward</div></a></div><div class="menu-group" id="menu-all-rewards"></div><div class="menu-group"><a class="menu-entry" id="menu-about" target="_blank" href="https://dotv.ee/random-rewards.html"><div class="menu-icon"><svg><use href="#svg-info-icon"></use></svg></div><div class="menu-label">How it Works</div></a><a class="menu-entry" id="menu-logout"><div class="menu-icon"><svg><use href="#svg-logout-icon"></use></svg></div><div class="menu-label">Logout</div></a></div></nav><div id="content"><div id="welcome-frame"><div id="welcomeframe"><div id="welcome-decoration-top"></div><div id="welcome-decoration-bottom"></div><div id="welcoming-text-container"><h1>Welcome!</h1><p>This App helps you to randomly reward yourself on your achievements.</p></div><div id="button-container"><a class="click-button" id="how-it-works-button" target="_blank" href="https://dotv.ee/random-rewards.html">How it Works</a><a class="click-button" id="add-new-reward-button">Create first Reward</a></div></div></div><div id="rewards-list-frame"><div class="hidden-templates"><div id="rewardslist-button-template"><button class="click-button reward-button" reward-index="{{{index}}}">{{{rewardLabel}}}</button></div></div><div id="rewardslistframe"><div id="rewardslist-container"></div></div></div><div id="reward-configuration-frame"><div class="hidden-templates"><div id="reward-option-template"><div class="reward-option-outer-container" reward-option-index="{{{index}}}"><div class="reward-option click-button"><div class="editframe-edit-icon"><svg><use href="#svg-edit-icon"></use></svg></div><div class="reward-option-name">{{{name}}}</div><div class="reward-option-weight-line"><div class="reward-option-weight">Weight: {{{weight}}}</div><div class="reward-option-percent">{{{percent}}}%</div></div></div><div class="reward-option-delete-button click-button">Delete</div></div></div></div><form id="rewardconfigurationframe"><div class="editframe-header"><button class="editframe-cancel-button click-button">Cancel</button><h1 class="edit-frame-title" id="rewardconfiguration-title">New Reward</h1></div><div class="editframe-container" id="rewardconfiguration-container"><div class="editframe-edit-item"><label for="name-input">Name<div class="editframe-edit-icon"><svg><use href="#svg-edit-icon"></use></svg></div></label> <input class="editframe-edit-content" id="name-input" name="name" placeholder="Type here..."></div><div class="editframe-edit-item"><label for="condition-textarea">Condition<div class="editframe-edit-icon"><svg><use href="#svg-edit-icon"></use></svg></div></label> <textarea class="editframe-edit-content" id="condition-textarea" name="condition" cols="30" rows="5" placeholder="Type here..."></textarea></div><div class="editframe-edit-item"><label for="timeframe-input">Timeframe<div class="editframe-edit-icon"><svg><use href="#svg-edit-icon"></use></svg></div></label> <input class="editframe-edit-content" id="timeframe-input" name="timeframe" placeholder="Type here..."></div><div class="editframe-edit-item"><label for="frequency-input">Frequency<div class="editframe-edit-icon"><svg><use href="#svg-edit-icon"></use></svg></div></label> <input class="editframe-edit-content" id="frequency-input" name="frequency" placeholder="Type here..."></div><div class="editframe-edit-item"><label>Reward Options</label><div id="reward-options-total-weight">Total Weight: 82</div><div class="editframe-edit-content" id="reward-options-container"><div class="reward-option click-button"><div class="editframe-edit-icon"><svg><use href="#svg-edit-icon"></use></svg></div><div class="reward-option-name">No Reward</div><div class="reward-option-weight-line"><div class="reward-option-weight">Weight: 77</div><div class="reward-option-percent">94%</div></div></div><div class="reward-option click-button"><div class="editframe-edit-icon"><svg><use href="#svg-edit-icon"></use></svg></div><div class="reward-option-name">Coffee-break</div><div class="reward-option-weight-line"><div class="reward-option-weight">Weight: 5</div><div class="reward-option-percent">6%</div></div></div></div><div class="click-button" id="add-reward-option-button">Add Reward Option</div></div></div><div class="editframe-footer"><button class="editframe-delete-button click-button">Delete</button> <button class="editframe-save-button click-button">Save</button></div></form></div><div id="reward-wheel-frame"><div id="rewardwheelframe"></div></div><div id="reward-judgement-overlay"><div id="judgementoverlay"></div></div></div></main><footer><div id="footer"><div id="footer-links"><a class="link-icon" id="footer-github-link" href="https://github.com/JhonnyJason/random-rewards.git" target="_blank"><svg><use href="#svg-github-icon"></use></svg></a><a class="link-icon" id="footer-telegram-link" href="#telegram" target="_blank"><svg><use href="#svg-telegram-icon"></use></svg></a></div><a id="footer-version"><div class="menu-icon" id="up-to-date-icon"><svg><use href="#svg-check-mark-icon"></use></svg></div><div class="menu-icon" id="to-update-icon"><svg><use href="#svg-update-icon"></use></svg></div><div class="menu-label" id="current-version">v0.1.x</div><div class="menu-icon" id="to-version-icon"><svg><use href="#svg-arrow-right-icon"></use></svg></div><div class="menu-label" id="new-version">v0.1.y</div></a></div></footer></div><script>(()=>{var n={62:function(t,e,n){!function(){var e={name:"indexdomconnect",initialize:function(){n.g.realBody=document.getElementById("real-body"),n.g.content=document.getElementById("content"),n.g.menuEntryTemplate=document.getElementById("menu-entry-template"),n.g.menu=document.getElementById("menu"),n.g.menuHome=document.getElementById("menu-home"),n.g.menuAccount=document.getElementById("menu-account"),n.g.menuAddReward=document.getElementById("menu-add-reward"),n.g.menuAllRewards=document.getElementById("menu-all-rewards"),n.g.menuLogout=document.getElementById("menu-logout"),n.g.menuCloseButton=document.getElementById("menu-close-button"),n.g.menuButton=document.getElementById("menu-button"),n.g.optioneditmodal=document.getElementById("optioneditmodal"),n.g.optioneditmodalNameInput=document.getElementById("optioneditmodal-name-input"),n.g.optioneditmodalWeightInput=document.getElementById("optioneditmodal-weight-input"),n.g.judgemodal=document.getElementById("judgemodal"),n.g.logoutmodal=document.getElementById("logoutmodal"),n.g.optiondeletemodal=document.getElementById("optiondeletemodal"),n.g.deletemodalMessageTemplate=document.getElementById("deletemodal-message-template"),n.g.deletemodal=document.getElementById("deletemodal")}};t.exports=e}.call(this)},981:function(v,e,y){!function(){var r,n,o,l,d,a,i,c,s,u,t,m,e,f,g,p,h={name:"statemodule"},w=function(e){null!=allModules.debugmodule.modulesToDebug.statemodule&&console.log("[statemodule]: "+e)};try{c=y(Object(function(){var e=new Error("Cannot find module './defaultstate.js'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){}p=null,r={},u={},a={},m=function(){var e,t;for(t in p=null!=(p=localStorage.getItem("state"))?JSON.parse(p):{})null==(e=p[t])&&(e=null),null!=e&&null!=e.content||(p[t]={content:e}),r[t]=p[t];for(t in c)e=c[t],null==r[t]&&(r[t]={content:e,isVolatile:!0})},s=function(e,t){return e!==t},d=function(e,t){var n=a[e]||s;return null==r[e]||(r[e].content,n(r[e].content,t))},t=function(e){var t;return w("loadDedicated"),t=localStorage.getItem(e),t=JSON.parse(t),r[e]={content:t,isDedicated:!0},t},f=function(e){var t;w("saveDedicatedState"),t=r[e].content,r[e].isDedicated=!0,t=JSON.stringify(t),localStorage.setItem(e,t)},g=function(){var e;w("saveRegularState"),e=JSON.stringify(p),localStorage.setItem("state",e)},o=function(e,t,n,o){var a,i=null!=r[e]&&r[e].isVolatile;if("boolean"!=typeof n&&(n=null!=r[e]&&!0===r[e].isDedicated),null!=r[e]){if(a=r[e].isDedicated?n!==r[e].isDedicated:n,!(d(e,t)||i||a))return;r[e].content=t,n&&(r[e].isDedicated=!0),a&&!n&&(localStorage.removeItem(e),delete r[e].isDedicated),i&&delete r[e].isVolatile}else r[e]={content:t,isDedicated:n};if(n?(f(e),null!=p[e]&&(delete p[e],g())):(null==p[e]&&(p[e]=r[e]),g()),!o)return l(e)},e=function(){for(var e in w("saveAllStates"),r)r[e].isDedicated&&f(e);g()},n=function(e,t,n){if(d(e,t)){try{r[e].content=t}catch(n){r[e]={content:t,isVolatile:!0}}if(!n)return l(e)}},i=function(e){var t;if(1!==(t=Object.keys(e)).length)throw new Error("Object did not have exactly one Member!");return{key:t=t[0],content:e[t]}},l=async function(a){var i,e;if(null!=u[a])return e=function(){for(var e,t=[],n=0,o=(e=u[a]).length;n<o;n++)i=e[n],t.push(i());return t}(),Promise.all(e)},h.getState=function(){return r},h.load=function(e){return w("statemodule.load"),null!=r[e]&&r[e].isVolatile?r[e].content:null==r[e]||r[e].isDedicated?t(e):(m(),r[e].content)},h.save=function(e,t,n){if(w("statemodule.save"),null!=e)return"object"==typeof e&&({key:e,content:t}=i(e)),null==t&&null==n?f(e):o(e,t,n,!1)},h.saveSilently=function(e,t,n){return w("statemodule.saveSilently"),"object"==typeof e&&({key:e,content:t}=i(e)),o(e,t,n,!0)},h.saveAll=e,h.saveRegularState=g,h.remove=function(e){w("statemodule.remove"),null!=r[e]&&(r[e].isVolatile?delete r[e]:r[e].isDedicated?(localStorage.removeItem(e),delete r[e]):(delete r[e],delete p[e],g()))},h.get=function(e){if(null!=r[e])return r[e].content},h.set=function(e,t){w("statemodule.set"),"object"==typeof e&&({key:e,content:t}=i(e)),n(e,t,!1)},h.setSilently=function(e,t){w("statemodule.setSilently"),"object"==typeof e&&({key:e,content:t}=i(e)),n(e,t,!0)},h.addOnChangeListener=function(e,t){w("statemodule.addOnChangeListener"),null==u[e]&&(u[e]=[]),u[e].push(t)},h.removeOnChangeListener=function(e,t){var n,o,a,i;if(w("statemodule.removeOnChangeListener"),null!=(n=u[e])){for(o=a=0,i=n.length;a<i;o=++a)if(n[o]===t)return w("candidate found at: "+o),n[o]=n[n.length-1],void n.pop();w("No candidate found for given function!")}},h.clearOnChangeListeners=function(e,t){w("statemodule.clearOnChangeListener"),u[e]=[]},h.callOutChange=function(e){return l(e)},h.setChangeDetectionFunction=function(e,t){null==t?delete a[e]:a[e]=t},m(),v.exports=h}.call(this)}},o={};function ko(e){var t=o[e];return void 0!==t||(t=o[e]={exports:{}},n[e].call(t.exports,t,t.exports,ko)),t.exports}ko.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return ko.d(t,{a:t}),t},ko.d=(e,t)=>{for(var n in t)ko.o(t,n)&&!ko.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},ko.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),ko.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),ko.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var D={},M=(ko.r(D),ko.d(D,{initialize:()=>Ie,setStateOneReward:()=>ke,setStateToConfigureAccount:()=>Ae,setStateToConfigureReward:()=>Pe,setStateToRewardActive:()=>je,setStateToRewardInactive:()=>Be,setStateToRewardJudgementOverlay:()=>Oe,setStateToRewardUnjudged:()=>xe,setStateToRewardsList:()=>Le,setStateToWelcome:()=>Ne}),{}),z=(ko.r(M),ko.d(M,{initialize:()=>ct,setMenuOff:()=>E,setMenuOn:()=>wt,updateRewards:()=>ht}),{}),o=(ko.r(z),ko.d(z,{applyUIState:()=>Kt,applyUIStateBase:()=>Qt,applyUIStateModifier:()=>Xt}),{}),U=(ko.r(o),ko.d(o,{deleteAll:()=>nn,deleteReward:()=>tn,getInfo:()=>on,initialize:()=>en}),{}),V=(ko.r(U),ko.d(U,{copyToClipboard:()=>Ln,waitMS:()=>Nn}),{}),H=(ko.r(V),ko.d(V,{updateRewards:()=>On}),{}),W=(ko.r(H),ko.d(H,{addNewRewardOption:()=>Jn,editReward:()=>Wn,finalizeDeletion:()=>_n,finalizeRewardOptionEdit:()=>$n,initialize:()=>jn,newReward:()=>Hn}),{}),_=(ko.r(W),ko.d(W,{initialize:()=>qn,loadAppWithNavState:()=>Fn,setNavState:()=>Gn}),{}),J=(ko.r(_),ko.d(_,{appVersion:()=>ro}),{}),$=(ko.r(J),ko.d(J,{modulesToDebug:()=>lo}),{}),q=(ko.r($),ko.d($,{initialize:()=>go}),{}),F=(ko.r(q),ko.d(q,{initialize:()=>vo}),{});ko.r(F),ko.d(F,{initialize:()=>Co});function e(t){var n;return{log:n=function(e){K[t]&&console.log("["+t+"]: "+e)},olog:function(e){return n("\n"+Y(e))}}}var r,l,G={},Y=(ko.r(G),ko.d(G,{initialize:()=>Ro}),function(e){return JSON.stringify(e,null,4)}),K={},u=ko(981);({log:r,olog:l}=e("navhandler"));async function Q(e,t,n){var o,a,i;if(!c){if(r("avigateBaseStateAt"),l({newBase:e,context:t,depth:n}),o=d.base,i=d.modifier,a=d.depth,l({oldBase:o,oldMod:i,oldDepth:a}),"string"!=typeof e)throw new Error("In navhandler.toBase `newBase` must a string!");if("number"!=typeof n)throw new Error("Depth must be specified, and be a number!");if(0===n)throw new Error("Depth cannot be 0!");if(a<n)throw new Error("Our current depth is before the the newly specified depth. We don't dare to jump unto the unknown future!");o=a-n+1;try{c=!0,await m(o),se(e,"none",t)}catch(e){r(e)}finally{c=!1}s(d)}}var X,Z,ee,t,te,n,a,ne,i={lastNavAction:X={action:"pageload",timestamp:Date.now()}},d={},oe={base:"RootState",modifier:"none",context:null,depth:0,navAction:null},ae=null,ie=null,c=!0,re=function(){},s=function(){},le=null,de=function(e){var t;if(r("historyStateChanged"),l({historyState:history.state,historyLength:history.length}),!ye())throw new Error("No Valid History State on popstateEvent!");d=history.state,t=fe(i.lastNavAction),d.navAction=t?i.lastNavAction:he(),history.replaceState(d,""),Ee(d),t?pe():"INVALID"!==d.base&&s(d)},ce=function(e,t,n,o){d.base=e,d.modifier=t,d.context=n||null,d.navAction=o},se=function(e,t,n){var o;r("navigateTo"),l({base:e,modifier:t,context:n}),o=we(),ce(e,t,n,o),d.depth=d.depth+1,i.lastNavAction=o,f(i),history.pushState(d,""),Ee(d)},ue=function(e,t,n){var o;r("navReplace"),l({base:e,modifier:t,context:n}),o=we(),ce(e,t,n,o),i.lastNavAction=o,f(i),history.replaceState(d,""),Ee(d)},m=function(e){var t;if(r("navigateBack"),null==ae&&!(0===d.depth||e>d.depth))return l({steps:e}),t=ve(),i.lastNavAction=t,f(i),t=ge(t),history.go(-e),t},me=async function(){r("clearNavTree"),await m(d.depth),se("INVALID","none"),await m(1)},fe=function(e){return"back"===e.action&&e.timestamp===ie},ge=function(e){return ie=e.timestamp,new Promise(function(e){return ae=e})},pe=function(){ae(),ie=ae=null},he=function(){return{action:"browserNav {refresh, back or forward}",timestamp:Date.now()}},we=function(){return{action:"nav",timestamp:Date.now()}},ve=function(){return{action:"back",timestamp:Date.now()}},ye=function(){var e,t,n,o,a;if(null==history.state)return!1;if(e=Object.keys(history.state),a=Object.keys(oe),e.length!==a.length)return!1;for(n=t=0,o=e.length;t<o;n=++t)if(e[n]!==a[n])return!1;return!0},f=function(e){return sessionStorage.setItem("NAV_info",JSON.stringify(e))},Ee=function(e){null!=le&&(e=JSON.stringify(e,null,4),le.innerHTML=e)},g=async function(e,t){var n;if(!c){if(null==e&&(e="none"),r("navigateModifier"),l({newMod:e,context:t}),"string"!=typeof e)throw new Error("In navhandler.toMod `newMod` is not a string!");if(n=d.modifier,"object"==typeof t?Object.assign(t,d.context):t=d.context,n!==e){if("none"===n&&"none"!==e)r("case 1 - oldMod is 'none' newMod is not 'none'"),se(d.base,e,t);else{if("none"===n||"none"!==e)return"none"!==n?(r("case 3 - oldMod is not 'none' newMod is different"),ue(d.base,e,t),void s(d)):void 0;r("case 2 - oldMod is not 'none' newMod is 'none'");try{c=!0,await m(1)}catch(e){r(e)}finally{c=!1}}s(d)}else r("case 0 - oldMod is newMod")}},be=async function(e){if(!c){try{c=!0,null!=e&&e?await me():await m(d.depth)}catch(e){r(e)}finally{c=!1}s(d)}},Ie=({log:n,olog:ne}=e("contentmodule"),Z=document.getElementById("add-new-reward-button"),a=document.getElementsByTagName("main")[0],te=0,ee=!1,t="welcome",function(){n("initialize"),Z.addEventListener("click",Se),a.addEventListener("click",Ce)}),Se=function(e){n("addNewRewardClicked"),W.createReward()},Ce=function(e){var t,n=(t=performance.now())-te;te=t,n<400&&Re()},Re=function(){te=0,(ee=!ee)?realBody.classList.add("large-content"):realBody.classList.remove("large-content")},p=function(){n("resetAllStateClasses"),a.classList.remove("welcome"),a.classList.remove("rewards-list"),a.classList.remove("reward-inactive"),content.classList.remove("reward-unjudged"),a.classList.remove("reward-judgement-overlay"),a.classList.remove("reward-active"),a.classList.remove("configure-account"),a.classList.remove("configure-reward")},Ne=function(){n("setStateToWelcome"),p(),t="welcome",a.classList.add(t)},Le=function(){n("setStateToRewardsList"),p(),t="rewards-list",a.classList.add(t)},ke=function(){n("setStateOneReward"),p()},Be=function(){n("setStateToRewardInactive"),p(),t="reward-inactive",a.classList.add(t)},xe=function(){n("setStateToRewardUnjudged"),p(),t="reward-unjudged",a.classList.add(t)},Oe=function(){n("setStateToRewardJudgementOverlay"),p(),t="reward-judgement-overlay",a.classList.add(t)},je=function(){n("setStateToRewardActive"),p(),t="reward-active",a.classList.add(t)},Ae=function(){n("setStateToConfigureAccount"),p(),t="configure-account",a.classList.add(t)},Pe=function(){n("setStateToConfigureReward"),p(),t="configure-reward",a.classList.add("configure-reward")},Te=Object.prototype.toString,j=Array.isArray||function(e){return"[object Array]"===Te.call(e)};function De(e){return"function"==typeof e}function Me(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ze(e,t){return null!=e&&"object"==typeof e&&t in e}var Ue=RegExp.prototype.test,Ve=/\S/,He={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},We=/\s*/,_e=/\s+/,Je=/\s*=/,$e=/\s*\}/,qe=/#|\^|\/|>|\{|&|=|!/;function Fe(e){this.string=e,this.tail=e,this.pos=0}function h(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function w(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}Fe.prototype.eos=function(){return""===this.tail},Fe.prototype.scan=function(e){var e=this.tail.match(e);return e&&0===e.index?(e=e[0],this.tail=this.tail.substring(e.length),this.pos+=e.length,e):""},Fe.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},h.prototype.push=function(e){return new h(e,this)},h.prototype.lookup=function(e){var t,n,o,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var i,r,l,d=this,c=!1;d;){if(0<e.indexOf("."))for(i=d.view,r=e.split("."),l=0;null!=i&&l<r.length;)l===r.length-1&&(c=ze(i,r[l])||(n=i,o=r[l],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(o))),i=i[r[l++]];else i=d.view[e],c=ze(d.view,e);if(c){t=i;break}d=d.parent}a[e]=t}return t=De(t)?t.call(this.view):t},w.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},w.prototype.parse=function(e,O){var t=this.templateCache,n=e+":"+(O||A.tags).join(":"),o=void 0!==t,a=o?t.get(n):void 0;return null==a&&(a=function(e){if(!e)return[];var t,n,o,a,i=!1,r=[],l=[],d=[],c=!1,s=!1,u="",m=0;function f(){if(c&&!s)for(;d.length;)delete l[d.pop()];else d=[];s=c=!1}function g(e){if("string"==typeof e&&(e=e.split(_e,2)),!j(e)||2!==e.length)throw new Error("Invalid tags: "+e);t=new RegExp(Me(e[0])+"\\s*"),n=new RegExp("\\s*"+Me(e[1])),o=new RegExp("\\s*"+Me("}"+e[1]))}g(O||A.tags);for(var p,h,w,v,y,E,b=new Fe(e);!b.eos();){if(p=b.pos,w=b.scanUntil(t))for(var I=0,S=w.length;I<S;++I)a=v=w.charAt(I),Ue.call(Ve,a)?(i=s=!0,u+=" "):(d.push(l.length),u+=v),l.push(["text",v,p,p+1]),p+=1,"\n"===v&&(f(),u="",m=0,i=!1);if(!b.scan(t))break;if(c=!0,h=b.scan(qe)||"name",b.scan(We),"="===h?(w=b.scanUntil(Je),b.scan(Je),b.scanUntil(n)):"{"===h?(w=b.scanUntil(o),b.scan($e),b.scanUntil(n),h="&"):w=b.scanUntil(n),!b.scan(n))throw new Error("Unclosed tag at "+b.pos);if(y=">"==h?[h,w,p,b.pos,u,m,i]:[h,w,p,b.pos],m++,l.push(y),"#"===h||"^"===h)r.push(y);else if("/"===h){if(!(E=r.pop()))throw new Error('Unopened section "'+w+'" at '+p);if(E[1]!==w)throw new Error('Unclosed section "'+E[1]+'" at '+p)}else"name"===h||"{"===h||"&"===h?s=!0:"="===h&&g(w)}if(f(),E=r.pop())throw new Error('Unclosed section "'+E[1]+'" at '+b.pos);for(var C,R=function(e){for(var t,n,o=[],a=0,i=e.length;a<i;++a)(t=e[a])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(o.push(t),n=t));return o}(l),N=[],L=N,k=[],B=0,x=R.length;B<x;++B)switch((C=R[B])[0]){case"#":case"^":L.push(C),k.push(C),L=C[4]=[];break;case"/":k.pop()[5]=C[2],L=0<k.length?k[k.length-1][4]:N;break;default:L.push(C)}return N}(e),o)&&t.set(n,a),a},w.prototype.render=function(e,t,n,o){var a=this.getConfigTags(o),a=this.parse(e,a),t=t instanceof h?t:new h(t,void 0);return this.renderTokens(a,t,n,e,o)},w.prototype.renderTokens=function(e,t,n,o,a){for(var i,r,l,d="",c=0,s=e.length;c<s;++c)l=void 0,"#"===(r=(i=e[c])[0])?l=this.renderSection(i,t,n,o,a):"^"===r?l=this.renderInverted(i,t,n,o,a):">"===r?l=this.renderPartial(i,t,n,a):"&"===r?l=this.unescapedValue(i,t):"name"===r?l=this.escapedValue(i,t,a):"text"===r&&(l=this.rawValue(i)),void 0!==l&&(d+=l);return d},w.prototype.renderSection=function(e,t,n,o,a){var i=this,r="",l=t.lookup(e[1]);if(l){if(j(l))for(var d=0,c=l.length;d<c;++d)r+=this.renderTokens(e[4],t.push(l[d]),n,o,a);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)r+=this.renderTokens(e[4],t.push(l),n,o,a);else if(De(l)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(l=l.call(t.view,o.slice(e[3],e[5]),function(e){return i.render(e,t,n,a)}))&&(r+=l)}else r+=this.renderTokens(e[4],t,n,o,a);return r}},w.prototype.renderInverted=function(e,t,n,o,a){var i=t.lookup(e[1]);if(!i||j(i)&&0===i.length)return this.renderTokens(e[4],t,n,o,a)},w.prototype.indentPartial=function(e,t,n){for(var o=t.replace(/[^ \t]/g,""),a=e.split("\n"),i=0;i<a.length;i++)a[i].length&&(0<i||!n)&&(a[i]=o+a[i]);return a.join("\n")},w.prototype.renderPartial=function(e,t,n,o){if(n){var a,i,r,l=this.getConfigTags(o),d=De(n)?n(e[1]):n[e[1]];if(null!=d)return a=e[6],r=e[5],e=e[4],i=d,0==r&&e&&(i=this.indentPartial(d,e,a)),r=this.parse(i,l),this.renderTokens(r,t,n,i,o)}},w.prototype.unescapedValue=function(e,t){t=t.lookup(e[1]);if(null!=t)return t},w.prototype.escapedValue=function(e,t,n){n=this.getConfigEscape(n)||A.escape,t=t.lookup(e[1]);if(null!=t)return("number"==typeof t&&n===A.escape?String:n)(t)},w.prototype.rawValue=function(e){return e[1]},w.prototype.getConfigTags=function(e){return j(e)?e:e&&"object"==typeof e?e.tags:void 0},w.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!j(e)?e.escape:void 0};var v,Ge,A={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){Ye.templateCache=e},get templateCache(){return Ye.templateCache}},Ye=new w;A.clearCache=function(){return Ye.clearCache()},A.parse=function(e,t){return Ye.parse(e,t)},A.render=function(e,t,n,o){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(j(a=e)?"array":typeof a)+'" was given as the first argument for mustache#render(template, view, partials)');var a;return Ye.render(e,t,n,o)},A.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return He[e]})},A.Scanner=Fe,A.Context=h,A.Writer=w;const Ke=A;({log:v,olog:Ge}=e("navtriggers"));function Qe(){v("triggerHome"),be(!0)}function Xe(e){return v("triggerMenu "+e),g(e?"menu":"none")}function Ze(e){v("editRewardOption"),g("editoption",e)}({log:y,olog:rt}=e("menumodule")),at=document.getElementById("menu-home"),tt=document.getElementById("menu-account"),nt=document.getElementById("menu-add-reward"),ot=document.getElementById("menu-all-rewards"),it=document.getElementById("menu-logout"),Lo=document.getElementById("menu-entry-template"),et=Lo.innerHTML;var et,y,tt,nt,ot,at,it,rt,lt,dt,ct=function(){y("initialize"),at.addEventListener("click",mt),tt.addEventListener("click",ft),nt.addEventListener("click",gt),it.addEventListener("click",pt),menu.addEventListener("click",ut)},st=function(e){y("rewardEntryClicked"),e=e.currentTarget.getAttribute("reward-index"),y(e),e={editIndex:e},v("editReward"),Q("configure-reward",e,1)},ut=function(e){return y("menuClicked"),Xe(!1)},mt=function(e){y("menuHomeClicked"),Qe()},ft=function(e){y("menuAccountClicked"),v("configureAccount"),Q("configure-account",null,1)},gt=function(e){y("addRewardClicked"),v("createReward"),Q("configure-reward",null,1)},pt=function(e){y("logoutClicked"),v("logout"),g("logoutconfirmation")},ht=function(){var e,t,n,o,a,i,r,l,d,c;if(y("updateRewards"),t=u.get("allRewards"),rt(t),Array.isArray(t)&&0!==t.length){for(o="",i=a=0,l=t.length;a<l;i=++a)c=t[i],(n={}).index=i,n.rewardLabel=c.name,o+=Ke.render(et,n);for(ot.innerHTML=o,menu.classList.remove("no-rewards"),i=r=0,d=(e=document.querySelectorAll("#menu-all-rewards > *")).length;r<d;i=++r)e[i].addEventListener("click",st)}else ot.innerHTML="",menu.classList.add("no-rewards")},E=function(){document.body.classList.remove("menu-on")},wt=function(){document.body.classList.add("menu-on")};({log:lt,olog:dt}=e("modalcore"));function b(e){null==S.modalPromise||Ut||S.modalPromise.catch(function(){}),S.reject(e),Ut=!1}function I(e){null==Wt.modalPromise||_t||Wt.modalPromise.catch(function(){}),Wt.reject(e),_t=!1}function vt(e){null==C.modalPromise||Jt||C.modalPromise.catch(function(){}),C.reject(e),Jt=!1}function yt(e){null==$t.modalPromise||qt||$t.modalPromise.catch(function(){}),$t.reject(e),qt=!1}async function Et(){var e;if(xt("userCreate"),!N)return Ft.textContent="New Reward Option",optioneditmodalNameInput.value="",optioneditmodalWeightInput.value=0,null==R.modalPromise&&R.activate(),N=!0,await R.modalPromise,(e={}).name=optioneditmodalNameInput.value,e.weight=parseInt(optioneditmodalWeightInput.value),""===e.name&&(e.name="Unnamed"),e.weight||(e.weight=0),e}function bt(e){null==R.modalPromise||N||R.modalPromise.catch(function(){}),R.reject(e),N=!1}var It,St,Ct,Rt,Nt,Lt,kt,Bt,xt,Ot,jt,At,Pt,Tt,Dt,Mt,zt=class{constructor(e){this.modalElement=e,this.modalPromise=null,this.rejectPromise=null,(this.acceptPromise=null)==this.modalElement&&(this.modalElement=null),this.accept=this.accept.bind(this),this.reject=this.reject.bind(this)}assignElement(e){return this.modalElement=e}connectDefaultElements(){var e=this,t=this.modalElement.getElementsByClassName("click-catcher")[0],n=this.modalElement.getElementsByClassName("modal-close-button")[0],o=this.modalElement.getElementsByClassName("modal-accept-button")[0],a=this.modalElement.getElementsByClassName("modal-cancel-button")[0];null!=t&&t.addEventListener("click",function(){return e.reject("click-catcher")}),null!=n&&n.addEventListener("click",function(){return e.reject("modal-close-button")}),null!=o&&o.addEventListener("click",function(){return e.accept("modal-accept-button")}),null!=a&&a.addEventListener("click",function(){return e.reject("modal-cancel-button")})}reject(e){var t;e=e||"Default Modal Reject",t=this.rejectPromise,this.rejectPromise=null,this.acceptPromise=null,this.modalPromise=null,this.modalElement.classList.remove("shown"),null!=t&&t(e)}accept(e){var t;e=e||"Default Modal Accept",t=this.acceptPromise,this.rejectPromise=null,this.acceptPromise=null,this.modalPromise=null,this.modalElement.classList.remove("shown"),null!=t&&t(e)}activate(){var n;null==this.modalPromise&&((n=this).modalPromise=new Promise(function(e,t){return n.rejectPromise=t,n.acceptPromise=e}),this.modalElement.classList.add("shown"))}},S=({log:It,olog:St}=e("deletemodal"),null),Ut=!1,Vt="",Ht=null,Wt=({log:Ct,olog:Rt}=e("judgemodal"),null),_t=!1,C=({log:Nt,olog:Lt}=e("logoutmodal"),null),Jt=!1,$t=({log:kt,olog:Bt}=e("optiondeletemodal"),null),qt=!1,R=({log:xt,olog:Ot}=e("optioneditmodal"),null),N=!1,Ft=null,Gt=({log:jt,olog:At}=e("uistatemodule"),{"no-rewards":function(){Ne()},"one-reward":function(){ke()},"many-rewards":function(){Le()},"configure-reward":function(){Pe()},"configure-account":function(){Ae()}}),Yt={none:function(){E(),b("uistate-change"),I("uistate-change"),vt("uistate-change"),yt("uistate-change"),bt("uistate-change")},menu:function(){wt(),b("uistate-change"),I("uistate-change"),vt("uistate-change"),yt("uistate-change"),bt("uistate-change")},deleteconfirmation:function(){null==S.modalPromise&&(Ut=!1,S.activate()),E(),I("uistate-change"),vt("uistate-change"),yt("uistate-change"),bt("uistate-change")},judgement:function(){vt("uistate-change"),null==Wt.modalPromise&&(_t=!1,Wt.activate()),E(),b("uistate-change"),yt("uistate-change"),bt("uistate-change")},logoutconfirmation:function(){null==C.modalPromise&&C.activate(),E(),b("uistate-change"),I("uistate-change"),yt("uistate-change"),bt("uistate-change")},optiondeleteconfirmation:function(){null==$t.modalPromise&&(qt=!1,$t.activate()),E(),b("uistate-change"),I("uistate-change"),vt("uistate-change"),bt("uistate-change")},editoption:function(){null==R.modalPromise&&(N=!1,R.activate()),E(),b("uistate-change"),I("uistate-change"),vt("uistate-change"),yt("uistate-change")}},Kt=function(e,t){jt("applyUIState"),null!=e&&Qt(e),null!=t&&Xt(t)},Qt=function(e){var t;if(jt("applyUIBaseState "+e),"function"!=typeof(t=Gt[e]))throw new Error(`on applyUIStateBase: base '${e}' did not have an application function!`);t()},Xt=function(e){var t;if(jt("applyUIStateModifier "+e),t=Yt[e],"function"!=typeof Xt)throw new Error(`on applyUIStateModifier: modifier '${e}' did not have an apply function!`);t()},Zt=({log:Pt,olog:Tt}=e("rewardmodule"),null),L=[],en=function(){Pt("initialize"),L=u.load("allRewards")||[],u.save("allRewards",L,!0),u.set("selectedReward",null),L.length},tn=function(e){var t;if(Pt("deleteReward "+e),e>=L.length)throw new Error("deleteReward: Index out of bounds!");t=L[e]===Zt,L.splice(e,1),t&&(Zt=null,u.set("selectedReward",null)),L.length,u.save("allRewards"),u.callOutChange("allRewards")},nn=function(){Pt("deleteAll"),resetConfiguration(),L=[],Zt=null,u.set("selectedReward",null),u.save("allRewards",L)},on=function(){var e;return Pt("getInfo"),(e={}).allRewards=L,e.selectedReward=Zt,e};({log:Dt,olog:Mt}=e("utilmodule"));var an,rn,ln,dn,k,B,x,cn,O,sn,un,mn,fn,gn,pn,hn,wn,vn,yn,En,bn,In,Sn,Cn,P,Rn,Nn=function(t){return new Promise(function(e){return setTimeout(e,t)})},Ln=async function(e){try{await navigator.clipboard.writeText(e),Dt("Clipboard API succeeded"),"undefined"!=typeof msgBox&&null!==msgBox&&msgBox.info("Copied: "+e)}catch(e){return Dt(e)}},kn=({log:an,olog:rn}=e("rewardslistmodule"),document.getElementById("rewardslist-container")),Bn=document.getElementById("rewardslist-button-template").innerHTML,xn=function(e){an("rewardButtonClicked"),e=e.currentTarget.getAttribute("reward-index"),an(e),v("selectReward")},On=async function(){var e,t,n,o,a,i,r,l,d,c,s;for(an("updateRewards"),t=u.get("allRewards"),await Nn(2e3),o="",i=a=0,l=t.length;a<l;i=++a)c=t[i],an(i+":"+c.name),(n={}).index=i,n.rewardLabel=c.name,o+=Ke.render(Bn,n);for(kn.innerHTML=o,i=r=0,d=(e=document.querySelectorAll("#rewardslist-container > *")).length;r<d;i=++r)s=e[i],an(`rewardButton: ${i}:`+s.getAttribute("reward-index")),s.addEventListener("click",xn)},jn=({log:O,olog:un}=e("rewardconfigurationmodule"),yn=document.getElementById("rewardconfigurationframe"),vn=document.getElementById("rewardconfiguration-title"),sn=document.getElementById("name-input"),dn=document.getElementById("condition-textarea"),bn=document.getElementById("timeframe-input"),cn=document.getElementById("frequency-input"),pn=yn.getElementsByClassName("editframe-cancel-button")[0],hn=yn.getElementsByClassName("editframe-delete-button")[0],wn=yn.getElementsByClassName("editframe-save-button")[0],gn=document.getElementById("reward-options-total-weight"),fn=document.getElementById("reward-options-container"),ln=document.getElementById("add-reward-option-button"),mn=document.getElementById("reward-option-template").innerHTML,function(){var e,t,n;for(O("initialize"),pn.addEventListener("click",Pn),hn.addEventListener("click",Tn),wn.addEventListener("click",Dn),ln.addEventListener("click",An),t=0,n=(e=yn.getElementsByClassName("editframe-edit-item")).length;t<n;t++)e[t].addEventListener("click",function(e){return e.stopPropagation()})}),An=function(e){O("addRewardOptionButtonClicked"),null==x&&(x=[]),Ze({editObj:B,editIndex:k})},Pn=function(e){O("configurationCancelClicked"),e.preventDefault(),Vn(),Qe()},Tn=function(e){O("configurationDeleteClicked"),e.preventDefault(),e={editObj:B,editIndex:k},v("deleteReward"),g("deleteconfirmation",e)},Dn=function(e){O("configurationSaveClicked"),e.preventDefault(),e=u.get("allRewards"),k===e.length&&e.push(B),B.name=sn.value,B.condition=dn.value,B.timeframe=bn.value,B.frequency=cn.value,B.options=x,u.save("allRewards"),u.callOutChange("allRewards"),Vn(),Qe()},Mn=function(e){var t,n;if(O("rewardOptionClicked"),t=this.parentNode.getAttribute("reward-option-index"),null==x[t])throw new Error(`Option of index ${t} did not exist!`);n=x[t],Ze({editObj:B,editIndex:k,optionObj:n,optionIndex:t})},zn=function(e){var t;if(O("rewardOptionDeleteClicked"),t=this.parentNode.getAttribute("reward-option-index"),null==x[t])throw new Error(`Option of index ${t} did not exist!`);x[t];try{x.splice(t,1),Un()}catch(e){O(e)}},Un=function(){var e,t,n,o,a,i,r,l,d,c,s,u,m,f,g,p;for(O("updateRewardOptions"),g="",t=p=0,r=(f=x||[]).length;t<r;t++)p+=(s=f[t]).weight;for(n=o=0,l=f.length;o<l;n=++o)s=f[n],(e={}).name=s.name,e.weight=s.weight,e.index=n,e.percent=0===p?100:Math.round(s.weight/p*100),g+=Ke.render(mn,e);for(gn.textContent="Total Weight: "+p,fn.innerHTML=g,a=0,d=(m=fn.getElementsByClassName("reward-option")).length;a<d;a++)m[a].addEventListener("click",Mn);for(i=0,c=(u=fn.getElementsByClassName("reward-option-delete-button")).length;i<c;i++)u[i].addEventListener("click",zn)},Vn=function(){O("resetConfiguration"),k=NaN,x=B=null,sn.value="",dn.value="",bn.value="",cn.value="",gn.textContent="Total Weight: 0",fn.innerHTML="",hn.classList.remove("shown")},Hn=function(){var e;O("prepareEditNewReward"),"create"!==En&&(Vn(),e=u.get("allRewards"),k=e.length,B={},x=[],vn.textContent="New Reward",En="create")},Wn=function(e){var t;if(O("prepareEditReward "+e),En!=="edit "+e){if(e>=(t=u.get("allRewards")).length)throw new Error("prepareEditReward: Index out of bounds!");B=t[k=e],x=null!=B.options?JSON.parse(JSON.stringify(B.options)):[],sn.value=B.name,dn.value=B.condition,bn.value=B.timeframe,cn.value=B.frequency,Un(),vn.textContent="Edit Reward",hn.classList.add("shown"),En="edit "+e}},_n=function(){O("finalizeDeletion"),deleteReward(k),Vn()},Jn=function(e){O("addNewRewardOption"),x.push(e),Un()},$n=function(e,t){if(O("finalizeRewardOptionEdit"),null==x[e])throw new Error(`Option of index ${e} did not exist!`);x[e]=t,Un()},qn=({log:P,olog:Rn}=e("appcoremodule"),Sn=En="none",Cn=In="no-rewards",function(){var e,t;P("initialize"),e=Fn,t=Gn,r("initialize"),"function"==typeof e&&(re=e),"function"==typeof t&&(s=t),window.addEventListener("popstate",de),null==sessionStorage.getItem("NAV_info")&&f(i),i=JSON.parse(sessionStorage.getItem("NAV_info")),c=!1,document.body.insertAdjacentHTML("beforeend",'<div id="NAVDEBUG-navstate-container" style="\n    position: absolute;\n    z-index: 9999;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n    padding: 5px;\n    height: fit-content;\n    width: fit-content;\n    box-sizing: border-box;\n    color: #000;\n    text-align: left;\n    background-color: #fffa;\n    border: solid 2px blue;\n    font-size: 12px;\n">\n    <h1 style="\n        font-size: 14px;\n        font-weight: bold;\n        padding: 0;\n        margin: 0;\n    ">NavState:</h1>\n    <div id="NAVDEBUG-navstatedisplay" style="\n        white-space: pre-wrap;\n        line-height: 130%;\n    "></div>\n</div>'),le=document.getElementById("NAVDEBUG-navstatedisplay"),u.addOnChangeListener("allRewards",Yn)}),Fn=async function(e){var t,n,o,a;switch(P("loadAppWithNavState"),t=e.base,a=e.modifier,n=e.context,await Kn(),t){case"RootState":t=Cn;break;case"configure-reward":o=null!=n?parseInt(n.editIndex):NaN,Number.isNaN(o)?Hn():Wn(o)}switch(a){case"logoutconfirmation":Zn();break;case"deleteconfirmation":eo(n);break;case"editoption":(null!=n.optionObj?no:to)(n)}T(t,a)},Gn=function(e){var t,n,o,a;switch(P("setNavState"),t=e.base,a=e.modifier,n=e.context,t){case"RootState":t=Cn;break;case"configure-reward":o=null!=n?parseInt(n.editIndex):NaN,Number.isNaN(o)?Hn():Wn(o)}switch(a){case"logoutconfirmation":Zn();break;case"deleteconfirmation":eo(n);break;case"editoption":(null!=n.optionObj?no:to)(n)}T(t,a)},Yn=function(){P("rewardsChanged"),Qn(),Xn()},T=function(e,t){P("setAppState"),P((In=e?e:In)+":"+(Sn=t?t:Sn)),Kt(In,Sn)},Kn=function(){P("startUp"),Qn(),Xn()},Qn=function(){var e;P("determineRootState"),e=u.get("allRewards"),Cn=Array.isArray(e)&&0!==e.length?1!==e.length?"many-rewards":"one-reward":"no-rewards"},Xn=function(){P("updateUIData"),ht(),On()},Zn=async function(){P("startConfirmLogoutProcess");try{T("","logoutconfirmation"),await function(){if(Nt("userConfirmation"),!Jt)return null==C.modalPromise&&C.activate(),Jt=!0,C.modalPromise}(),nn(),await be(!0)}catch(e){P(e),await g("none")}},eo=async function(e){var t;P("startRewardDeletionProcess");try{(t={}).label=e.editObj.name,T("","deleteconfirmation"),await function(e){if(It("userConfirmation"),!Ut)return Ht.innerHTML=Ke.render(Vt,e),null==S.modalPromise&&S.activate(),Ut=!0,S.modalPromise}(t),o.finalizeDeletion(),await be(!0)}catch(e){P(e),await g("none")}},to=async function(){var e;P("startRewardOptionAddProcess");try{T("","editoption"),e=await Et(),o.addNewRewardOption(e)}catch(e){P(e)}finally{await g("none")}},no=async function(e){var t,n;if(P("startRewardOptionEditProcess"),t=parseInt(e.optionIndex),Number.isNaN(t))throw new Error("on startRewardOptionEditProcess: optionIndex isNaN!");try{T("","editoption"),n=await async function(e){if(xt("userEdit"),!N)return Ft.textContent="Edit Reward Option",optioneditmodalNameInput.value=e.name,optioneditmodalWeightInput.value=e.weight,null==R.modalPromise&&R.activate(),N=!0,await R.modalPromise,(e={}).name=optioneditmodalNameInput.value,e.weight=parseInt(optioneditmodalWeightInput.value),""===e.name&&(e.name="Unnamed"),e.weight||(e.weight=0),e}(e.optionObj),o.finalizeRewardOptionEdit(t,n)}catch(e){P(e)}finally{await g("none")}};to=async function(e){var t;P("startRewardOptionAddProcess");try{T("","editoption"),t=await Et(),o.addNewRewardOption(t)}catch(e){P(e)}finally{await g("none")}};var oo,ao,io,ro="v0.0.1",lo={appcoremodule:!(x=B=null),navhandler:!(k=NaN),navtriggers:!0},co=lo;for(io in co)co[io]&&(K[io]=!0);({log:oo,olog:ao}=e("footermodule"));var so,uo,mo,fo,go=function(){oo("initialize")},po=({log:so,olog:uo}=e("headermodule"),document.getElementById("app-logo")),ho=document.getElementById("menu-button"),wo=document.getElementById("menu-close-button"),vo=function(){so("initialize"),po.addEventListener("click",yo),ho.addEventListener("click",Eo),wo.addEventListener("click",bo)},yo=function(){so("appLogoClicked"),Qe()},Eo=function(){so("menuButtonClicked"),Xe(!0)},bo=function(){so("menuCloseButtonClicked"),Xe(!1)};({log:mo,olog:fo}=e("smalldatamodule"));var Io,So,Co=function(){mo("initialize")},Ro=({log:Io,olog:So}=e("usermodalmodule"),function(){Io("initialize"),It("initialize"),(S=new zt(deletemodal)).connectDefaultElements(),Vt=deletemodalMessageTemplate.innerHTML,Ht=deletemodal.getElementsByClassName("modal-content")[0],Ct("initialize"),(Wt=new zt(judgemodal)).connectDefaultElements(),Nt("initialize"),(C=new zt(logoutmodal)).connectDefaultElements(),kt("initialize"),($t=new zt(optiondeletemodal)).connectDefaultElements(),xt("initialize"),(R=new zt(optioneditmodal)).connectDefaultElements(),Ft=optioneditmodal.getElementsByClassName("modal-header-title")[0]});const No={appcoremodule:W,configmodule:_,contentmodule:D,debugmodule:J,footermodule:$,headermodule:q,menumodule:M,rewardconfigurationmodule:H,rewardmodule:o,rewardslistmodule:V,smalldatamodule:F,statemodule:u,uistatemodule:z,usermodalmodule:G,utilmodule:U};var Lo=ko(62);ko.n(Lo)().initialize(),ko.g.allModules=No,async function(){var t,n,e=function(){var e=[];for(n in No)null!=(t=No[n]).initialize&&e.push(t.initialize());return e}();await Promise.all(e),async function(){if(!c){if(r("appLoaded"),l({historyState:history.state,historyLength:history.length}),ye()?((d=history.state).navAction=he(),i.lastNavAction=d.navAction,f(i),history.replaceState(d,"")):(oe.navAction=X,i.lastNavAction=oe.navAction,f(i),history.replaceState(oe,"")),"INVALID"===d.base)try{c=!0,await m(1)}catch(e){r(e)}finally{c=!1}d=history.state,Ee(d),re(d)}}()}()})()})()</script></body></html>